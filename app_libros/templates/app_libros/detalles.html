{% extends 'app_libros/base.html' %}

{% block title %}{{ libro.nombre }} - Detalle{% endblock %}

{% block content %}
<nav aria-label="breadcrumb" class="mb-3">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="{% url 'libros' %}">Libros</a></li>
    <li class="breadcrumb-item active" aria-current="page">{{ libro.nombre }}</li>
  </ol>
</nav>

<div class="card shadow-sm">
  <div class="card-body">
    <div class="d-flex justify-content-between align-items-start">
      <h2 class="card-title mb-3">{{ libro.nombre }}</h2>
      <div class="btn-group">
      {% if request.user.is_superuser %}
        <a class="btn btn-outline-primary btn-sm" href="{% url 'libro_editar' libro.id_libro %}">Editar</a>
        <a class="btn btn-outline-danger btn-sm" href="{% url 'libro_eliminar' libro.id_libro %}">Eliminar</a>
      {% endif %}

      </div>
    </div>

    <dl class="row">
      <dt class="col-sm-3">Autor</dt>
      <dd class="col-sm-9">{{ libro.autor }}</dd>

      <dt class="col-sm-3">Género</dt>
      <dd class="col-sm-9">{{ libro.genero|default:"—" }}</dd>

      <dt class="col-sm-3">Fecha de creación</dt>
      <dd class="col-sm-9">{{ libro.fecha_creacion|date:"Y-m-d" }}</dd>

      <dt class="col-sm-3">Sinopsis</dt>
      <dd class="col-sm-9"><p class="mb-0" style="white-space:pre-line">{{ libro.sinopsis }}</p></dd>
    </dl>

    <hr>
    <div class="d-flex gap-2">
      <!-- Por ahora solo navega a una URL stub -->
        <a class="btn btn-primary" href="{% url 'reserva_crear' libro.id_libro %}">
        Reservar este libro
        </a>
      <a class="btn btn-outline-secondary" href="{% url 'libros' %}">Volver al listado</a>
    </div>
  </div>
</div>
{% endblock %}
